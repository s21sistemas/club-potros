import{t as x,j as r,r as y}from"./index-1hkev0sT.js";import{u as d,x as i,a as p,I as A}from"./InputField-GuZ0OZJf.js";import{B as v}from"./BaseTable-DI_i5Uvm.js";import{B as h,a as j}from"./ButtonsModal-DwgSUSF5.js";import{M as D}from"./ModalDelete-BZuhmeM_.js";import{a as S}from"./schemas-Ch0jrM0J.js";import{C as q}from"./CancelButtonModal-BY77VJ91.js";import"./categorias-BT_gOMst.js";import"./dayjs.min-Dodf3ejV.js";import"./costos-porrista-BRwTdeOH.js";import"./eye-Brg_21Lh.js";import"./chevron-right-CQV0O4Z1.js";import"./players-BzdLQVIf.js";import"./es-rjeHZEeQ.js";import"./square-pen-Da5ptJOH.js";const I=()=>{const t=d(e=>e.modalType),o=d(e=>e.formData),l=d(e=>e.closeModal),c=i(e=>e.loading),s=i(e=>e.articulos),a=i(e=>e.getDataArticulo),n=i(e=>e.addArticulo),u=i(e=>e.editArticulo),f=i(e=>e.deleteArticulo);return{articulos:s,loading:c,getDataArticulo:a,handleSubmit:e=>{e.preventDefault();const m=S.safeParse(o);if(!m.success){const b=m.error.flatten().fieldErrors,g=Object.values(b)[0][0];x.error(g);return}t==="add"?n(o):t==="edit"&&u(o),l()},handleDelete:e=>{f(e),l()}}},M={generalFields:[{required:!0,type:"text",label:"Nombre de artículo",name:"nombre"},{required:!0,type:"number",label:"Precio de compra",name:"precio_compra"},{required:!0,type:"number",label:"Precio de venta",name:"precio_venta"},{required:!0,type:"number",label:"Precio de reposición",name:"precio_reposicion"},{required:!0,type:"select",label:"¿El artículo es para equipar?",name:"articulo_equipar",opcSelect:[{label:"Selecciona una opción",value:""},{label:"SI",value:"SI"},{label:"NO",value:"NO"}]}]},P=()=>{const{view:t,formData:o,handleInputChange:l}=p();return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:M.generalFields.map(({type:c,label:s,name:a,required:n,opcSelect:u})=>r.jsx(A,{type:c,label:s,name:a,required:n,value:o[a]||"",opcSelect:u,onChange:l,disabled:t,classInput:"md:col-span-3"},a))}),t?r.jsx(q,{}):r.jsx(h,{})]})},_=[{key:"nombre",name:"Nombre del artículo"},{key:"precio_compra",name:"Precio de compra"},{key:"precio_venta",name:"Precio de venta"},{key:"precio_reposicion",name:"Precio de reposición"},{key:"articulo_equipar",name:"¿El artículo es para equipar?"}];function U(){const{modalType:t,currentItem:o}=p(),{articulos:l,loading:c,getDataArticulo:s,handleSubmit:a,handleDelete:n}=I();return y.useEffect(()=>{(async()=>await s())()},[s]),r.jsxs("div",{className:"md:p-4 bg-gray-100",children:[r.jsx(v,{columns:_,data:l,title:"Artículos",loading:c}),(t==="add"||t==="edit"||t==="view")&&r.jsx(j,{handleSubmit:a,Inputs:r.jsx(P,{})}),t==="delete"&&o&&r.jsx(D,{handleDelete:n})]})}export{U as default};
