import{c as j,o as b,q as D,w as F,d as C,e as I,f as L}from"./index-1hkev0sT.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m14.5 7.5-5 5",key:"3lb6iw"}],["path",{d:"m9.5 7.5 5 5",key:"ko136h"}]],M=j("BookmarkX",N);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],V=j("Funnel",S),T=C(I,"pagos_jugadores"),X=C(I,"pagos_porristas"),x=s=>b(T,f=>{const t=f.docs.map(n=>{var c,m,_;const e=n.data(),o=e.pagos||[],i=e.fecha_registro,l=(c=o.find(a=>a.tipo==="Inscripción"))!=null&&c.fecha_limite?(m=o.find(a=>a.tipo==="Inscripción"))==null?void 0:m.fecha_limite:e.fecha_registro,p=o.find(a=>a.tipo==="Equipamiento").fecha_limite?(_=o.find(a=>a.tipo==="Equipamiento"))==null?void 0:_.fecha_limite:e.fecha_registro,h=o.find(a=>a.tipo==="Inscripción").estatus,u=o.find(a=>a.tipo==="Equipamiento").estatus,d=o.find(a=>a.tipo==="Inscripción").fecha_pago,g=o.find(a=>a.tipo==="Equipamiento").fecha_pago;return{id:n.id,nombre:e.nombre,fecha_regis:i,fecha_ins:l,fecha_equipamiento:p,fecha_pago_ins:d,fecha_pago_equipamiento:g,ins:h,equipamiento:u}});s(t)}),z=async s=>b(X,f=>{const t=f.docs.map(n=>{var d,g;const e=n.data(),o=e.pagos||[],i=e.fecha_registro,l=(d=o.find(c=>c.tipo==="Inscripción"))==null?void 0:d.fecha_pago,p=(g=o.find(c=>c.tipo==="Coaching"))==null?void 0:g.fecha_pago,h=o.find(c=>c.tipo==="Inscripción").estatus,u=o.find(c=>c.tipo==="Coaching").estatus;return{id:n.id,nombre:e.nombre,fecha_ins:l,fecha_coach:p,fecha_regis:i,ins:h,coach:u}});s(t)}),H=(s,f,t)=>{const n=D(C(I,"pagos_jugadores"),F("temporadaId","==",s),F("categoria","==",f));return b(n,e=>{const o=e.docs.map(i=>{var a,q,k,w,B,E;const l=i.data(),p=l.pagos||[],h=l.fecha_registro,u=((a=p.find(r=>r.tipo==="Inscripción"))==null?void 0:a.fecha_limite)||h,d=((q=p.find(r=>r.tipo==="Coaching"))==null?void 0:q.fecha_limite)||h,g=((k=p.find(r=>r.tipo==="Inscripción"))==null?void 0:k.estatus)||"Pendiente",c=((w=p.find(r=>r.tipo==="Coaching"))==null?void 0:w.estatus)||"Pendiente",m=((B=p.find(r=>r.tipo==="Inscripción"))==null?void 0:B.fecha_pago)||null,_=((E=p.find(r=>r.tipo==="Coaching"))==null?void 0:E.fecha_pago)||null;return{id:i.id,nombre:l.nombre,fecha_regis:h,fecha_ins:u,fecha_coach:d,fecha_pago_ins:m,fecha_pago_coach:_,ins:g,coach:c,temporadaId:l.temporadaId||null,categoria:l.categoria||null}});t(o)})};let y=null,A=null,P=null;const Z=L((s,f)=>({players:[],cheerleaders:[],getDataPaymentsPlayer:async()=>new Promise((t,n)=>{try{y&&(y(),y=null),y=x(e=>{s({players:e}),t(e)})}catch(e){console.error(e),n(e)}finally{s({loading:!1})}}),getPlayersByTempCat:async(t,n)=>new Promise((e,o)=>{try{P&&(P(),P=null),P=H(t,n,i=>{s({players:i}),e(i)})}catch(i){console.error(i),o(i)}}),getDataPaymentsCheer:async()=>new Promise((t,n)=>{try{A?t(f().cheerleaders):A=z(e=>{s({cheerleaders:e}),t(e)})}catch(e){console.error(e),n(e)}finally{s({loading:!1})}})}));export{M as B,V as F,Z as u};
